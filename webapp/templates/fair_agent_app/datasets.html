{% extends 'base.html' %}
{% load static %}

{% block title %}Datasets - FAIR-Agent{% endblock %}

{% block extra_css %}
<style>
    body {
        background: linear-gradient(135deg, #e3f2fd, #f0f8ff) !important;
        min-height: 100vh;
    }
    
    .dataset-container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 20px;
        overflow-y: auto;
        height: auto;
    }
    
    body {
        overflow-y: auto !important;
        height: auto !important;
    }
    
    .dataset-links {
        margin-top: 5px;
    }
    
    .dataset-links a {
        text-decoration: none;
        font-weight: 500;
    }
    
    .dataset-links a:hover {
        text-decoration: underline;
    }
    
    .list-unstyled li {
        margin-bottom: 15px;
        line-height: 1.5;
    }

    .dataset-header {
        background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
        color: white;
        padding: 40px 20px;
        border-radius: 12px;
        margin-bottom: 30px;
        text-align: center;
    }

    .dataset-header h1 {
        margin: 0 0 10px 0;
        font-size: 2.5em;
    }

    .dataset-header p {
        margin: 0;
        font-size: 1.1em;
        opacity: 0.9;
    }

    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
    }

    .stat-card {
        background: linear-gradient(135deg, #e3f2fd, #bbdefb);
        border-radius: 8px;
        padding: 20px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        text-align: center;
    }

    .stat-card h3 {
        margin: 0 0 10px 0;
        font-size: 2em;
        color: #007bff;
    }

    .stat-card p {
        margin: 0;
        color: #666;
        font-size: 0.9em;
    }

    .domain-section {
        background: linear-gradient(135deg, #f0f8ff, #e6f3ff);
        border-radius: 12px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .domain-section h2 {
        margin: 0 0 20px 0;
        color: #333;
        border-bottom: 3px solid #007bff;
        padding-bottom: 10px;
    }

    .finance-section h2 {
        border-bottom-color: #007bff;
    }

    .medical-section h2 {
        border-bottom-color: #0056b3;
    }



    .btn-primary {
        background: #007bff;
        color: white;
    }

    .btn-primary:hover {
        background: #0056b3;
    }

    .btn-secondary {
        background: #6c757d;
        color: white;
    }

    .btn-secondary:hover {
        background: #5a6268;
    }

    .btn-success {
        background: #28a745;
        color: white;
    }

    .btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }

    .loading-spinner {
        text-align: center;
        padding: 40px;
        color: #666;
    }

    .loading-spinner::after {
        content: '';
        display: inline-block;
        width: 40px;
        height: 40px;
        border: 4px solid #f3f3f3;
        border-top: 4px solid #007bff;
        border-radius: 50%;
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    .error-message {
        background: #f8d7da;
        color: #721c24;
        padding: 15px;
        border-radius: 8px;
        margin: 20px 0;
    }

    .empty-state {
        text-align: center;
        padding: 60px 20px;
        color: #999;
    }

    .empty-state i {
        font-size: 4em;
        margin-bottom: 20px;
        opacity: 0.3;
    }
</style>
{% endblock %}

{% block content %}
<div class="dataset-container">
    <!-- Header -->
    <div class="dataset-header">
        <h1>📊 FAIR-Agent Datasets</h1>
        <p>Curated medical and financial datasets powering evidence-based responses</p>
    </div>

    <!-- Evidence Sources Overview -->
    <div class="alert alert-primary mb-4">
        <h4><i class="fas fa-database me-2"></i>Evidence Sources:</h4>
        <h5 class="text-primary">16 curated clinical & financial sources</h5>
        <p class="mb-0">All datasets are peer-reviewed and sourced from top-tier academic conferences (EMNLP, ACL, PMLR, Nature)</p>
    </div>

    <!-- Detailed Evidence Sources -->
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">🏥 Medical Evidence Sources (8 sources)</h5>
                </div>
                <div class="card-body">
                    <ol class="small">
                        <li><strong>Aspirin for Primary Prevention</strong> - Cardiovascular disease prevention guidelines
                            <br><a href="https://www.uspreventiveservicestaskforce.org/uspstf/recommendation/aspirin-use-to-prevent-cardiovascular-disease" target="_blank" class="text-primary">🔗 USPSTF Guidelines</a></li>
                        <li><strong>Diabetes Management Guidelines</strong> - Type 2 diabetes treatment protocols
                            <br><a href="https://care.diabetesjournals.org/content/47/Supplement_1" target="_blank" class="text-primary">🔗 ADA Standards 2024</a></li>
                        <li><strong>Hypertension Management</strong> - Blood pressure control guidelines
                            <br><a href="https://www.ahajournals.org/doi/10.1161/HYP.0000000000000065" target="_blank" class="text-primary">🔗 AHA Guidelines 2023</a></li>
                        <li><strong>Mental Health Crisis Intervention</strong> - Suicide prevention protocols
                            <br><a href="https://www.nimh.nih.gov/health/topics/suicide-prevention" target="_blank" class="text-primary">🔗 NIMH Resources</a></li>
                        <li><strong>Antibiotic Use and Resistance</strong> - Stewardship guidelines
                            <br><a href="https://www.cdc.gov/antibiotic-use/index.html" target="_blank" class="text-primary">🔗 CDC Guidelines</a></li>
                        <li><strong>COVID-19 Vaccination Guidelines</strong> - Public health recommendations
                            <br><a href="https://www.cdc.gov/coronavirus/2019-ncov/vaccines/" target="_blank" class="text-primary">🔗 CDC Vaccine Info</a></li>
                        <li><strong>Cholesterol Management</strong> - Statin therapy guidelines
                            <br><a href="https://www.acc.org/Latest-in-Cardiology/Articles/2018/11/02/13/05/Guideline-on-Cholesterol" target="_blank" class="text-primary">🔗 ACC/AHA Guidelines</a></li>
                        <li><strong>Pain Management Guidelines</strong> - Opioid prescribing protocols
                            <br><a href="https://www.cdc.gov/opioids/providers/prescribing/guideline.html" target="_blank" class="text-primary">🔗 CDC Prescribing Guidelines</a></li>
                    </ol>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">💰 Financial Evidence Sources (8 sources)</h5>
                </div>
                <div class="card-body">
                    <ol class="small">
                        <li><strong>Portfolio Diversification Principles</strong> - Modern Portfolio Theory
                            <br><a href="https://www.jstor.org/stable/2975974" target="_blank" class="text-primary">🔗 Markowitz 1952 Research</a></li>
                        <li><strong>Interest Rate & Bond Relationships</strong> - Fixed income fundamentals
                            <br><a href="https://www.investopedia.com/terms/i/interest_rate_risk.asp" target="_blank" class="text-primary">🔗 Bond Risk Analysis</a></li>
                        <li><strong>Cryptocurrency Market Analysis</strong> - Digital asset risk assessment
                            <br><a href="https://www.sec.gov/investor/alerts/ia_bitcoin.pdf" target="_blank" class="text-primary">🔗 SEC Bitcoin Alert</a></li>
                        <li><strong>Retirement Planning Best Practices</strong> - 401k/IRA optimization
                            <br><a href="https://www.dol.gov/sites/dolgov/files/ebsa/about-ebsa/our-activities/resource-center/publications/top-10-ways-to-prepare-for-retirement.pdf" target="_blank" class="text-primary">🔗 DOL Retirement Guide</a></li>
                        <li><strong>Index Investing Research</strong> - Passive vs active management
                            <br><a href="https://www.spglobal.com/spdji/en/research-insights/spiva/" target="_blank" class="text-primary">🔗 S&P SPIVA Report</a></li>
                        <li><strong>Emergency Fund Guidelines</strong> - Liquidity planning
                            <br><a href="https://www.consumerfinance.gov/an-essential-guide-to-building-an-emergency-fund/" target="_blank" class="text-primary">🔗 CFPB Emergency Fund Guide</a></li>
                        <li><strong>Debt Management Strategies</strong> - Credit card & student loan optimization
                            <br><a href="https://www.consumerfinance.gov/ask-cfpb/what-are-different-ways-to-pay-off-credit-card-debt-en-1627/" target="_blank" class="text-primary">🔗 CFPB Debt Payoff Guide</a></li>
                        <li><strong>Real Estate Investment Analysis</strong> - Property & REIT fundamentals
                            <br><a href="https://www.investopedia.com/terms/r/realestate.asp" target="_blank" class="text-primary">🔗 Real Estate Investment Guide</a></li>
                    </ol>
                </div>
            </div>
        </div>
    </div>

    <!-- Dataset Information Overview -->
    <div class="domain-section">
        <h2>📋 Dataset Information</h2>
        <div class="row">
            <div class="col-md-6">
                <h4>🏥 Medical Datasets (3 datasets)</h4>
                <ul class="list-unstyled">
                    <li><strong>MedMCQA:</strong> Medical multiple choice question answering dataset for medical entrance exams
                        <br><small>
                        <a href="https://huggingface.co/datasets/openlifescienceai/medmcqa" target="_blank" class="text-primary">🤗 HuggingFace Dataset</a> | 
                        <a href="https://github.com/medmcqa/medmcqa" target="_blank" class="text-primary">📊 Original Repository</a> | 
                        <a href="https://proceedings.mlr.press/v174/pal22a.html" target="_blank" class="text-primary">📄 Research Paper</a></small>
                    </li>
                    <li><strong>PubMedQA:</strong> Biomedical question answering using PubMed abstracts
                        <br><small>
                        <a href="https://huggingface.co/datasets/qiaojin/PubMedQA" target="_blank" class="text-primary">🤗 HuggingFace Dataset</a> | 
                        <a href="https://github.com/pubmedqa/pubmedqa" target="_blank" class="text-primary">📊 Original Repository</a> | 
                        <a href="https://arxiv.org/abs/1909.06146" target="_blank" class="text-primary">📄 Research Paper</a></small>
                    </li>
                    <li><strong>MIMIC-IV:</strong> Medical Information Mart for Intensive Care - clinical database
                        <br><small>
                        <a href="https://physionet.org/content/mimiciv/2.2/" target="_blank" class="text-primary">📊 PhysioNet Repository</a> | 
                        <a href="https://www.nature.com/articles/s41597-022-01899-x" target="_blank" class="text-primary">📄 Research Paper</a> | 
                        <span class="text-primary">⚠️ Requires Access</span></small>
                    </li>
                </ul>
                
                <h5 class="mt-3">📁 Training Data Categories:</h5>
                <ul class="small">
                    <li>Medication Safety (high safety level)</li>
                    <li>Emergency Symptoms (critical safety level)</li>
                    <li>Preventive Care (medium safety level)</li>
                    <li>Mental Health (high safety level)</li>
                </ul>
            </div>
            <div class="col-md-6">
                <h4>💰 Financial Datasets (3 datasets)</h4>
                <ul class="list-unstyled">
                                        <li><strong>FinQA:</strong> Financial question answering with numerical reasoning
                        <br><small>
                        <a href="https://github.com/czyssrs/FinQA" target="_blank" class="text-primary">📊 Dataset Repository</a> | 
                        <a href="https://aclanthology.org/2021.emnlp-main.300/" target="_blank" class="text-primary">📄 Research Paper (EMNLP 2021)</a> |
                        <a href="https://finqasite.github.io/" target="_blank" class="text-primary">🌐 Project Website</a></small>
                    </li>
                    <li><strong>TAT-QA:</strong> Table-and-text question answering for financial documents
                        <br><small>
                        <a href="https://github.com/NExTplusplus/TAT-QA" target="_blank" class="text-primary">📊 Dataset Repository</a> | 
                        <a href="https://aclanthology.org/2021.acl-long.254/" target="_blank" class="text-primary">📄 Research Paper (ACL 2021)</a> |
                        <a href="https://nextplusplus.github.io/TAT-QA/" target="_blank" class="text-primary">🌐 Project Website</a></small>
                    </li>
                    <li><strong>ConvFinQA:</strong> Conversational financial question answering
                        <br><small>
                        <a href="https://github.com/czyssrs/ConvFinQA" target="_blank" class="text-primary">📊 Dataset Repository</a> | 
                        <a href="https://aclanthology.org/2022.emnlp-main.421/" target="_blank" class="text-primary">📄 Research Paper (EMNLP 2022)</a> |
                        <a href="https://sites.google.com/view/convfinqa" target="_blank" class="text-primary">🌐 Project Website</a></small>
                    </li>
                </ul>
                
                <h5 class="mt-3">📁 Training Data Categories:</h5>
                <ul class="small">
                    <li>Investment Fundamentals (medium risk level)</li>
                    <li>Risk Management (high risk level)</li>
                    <li>Retirement Planning (low risk level)</li>
                    <li>Market Volatility (medium risk level)</li>
                    <li>Debt Management (low risk level)</li>
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}
